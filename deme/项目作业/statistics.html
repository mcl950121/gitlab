<style>
*{margin:0px;padding:0px}
.s-main{width:465px;height:660px;margin:0 auto;box-shadow:0px 1px 5px 2px #dbdbdb;background-color: #fafbfd}
.s-top{width:446px;height:45px;background-color: #bdc1ca;font-size:17px;color:#FFFFFF;line-height: 45px;padding-left:20px;}
.s-content{width: 430px;height: 580px;padding-top:30px;padding-left:30px;}
.tx{width:90px;height:90px;background-repeat:no-repeat;float:left;margin-right:30px;border:1px solid #e6e7e9;}
.tx img{width:84px;height: 84px;margin-top:3px;margin-left:3px;}
.fm{float:left;width: 280px;height: 84px;}
.sc{width:113px;height:37px;background: #f0725b;border-radius: 5px;color:#fff;margin-top:10px;}
.da div{margin-top:15px;height:30px;}
.da input{height:30px; font-size:14px;margin-left:5px;}
.xb{height:30px; font-size:14px;margin-left:5px;width:170px}
.tj{width:113px;height:37px;background: #f0725b;border-radius: 5px;color:#fff;margin-top:20px;}
.jiahao{width:20px;height:20px;margin-left:5px;}
#file{width:113px;height:37px;opacity: 0;position: absolute;left: 0;top:0;}
.xz{width:113px;height:37px;background: #bababa;border-radius: 5px;color:#fff;display: block;position:relative}
</style>

<div class="s-main" ng-controller="edit">
	<div class="s-top">新增学生信息</div>
	<div class="s-content">
		<div ng-controller="stat">
			<div class="tx" id="dragDiv">
				<!--<div ng-repeat="t in tupian">
					<img src="http://123.56.227.177/1508a/public/upload/images/{{t.filename}}" width="84" height="84">
				</div>-->
			</div>
			<div ng-repeat="t in tupian">
				<input id="picm" type="text" ng-model="updata.pic" value="{{t.filename}}">
			</div>
			<form class="fm">
				<div>
					<div class="form-group">
						<label for="file" ></label>
						<button class="xz">选择图片<input type="file" name="file" id="file" onchange="setFiles(this);setFiles2(this)" multiple></button>
					</div>
				</div>
				<button ng-click="uploadFiles()" class="sc">上传</button>
			</form>
		</div>
		
		<div style="width:400px;height:300px;margin-top:40px;float:left" class="da">
			<div>姓名:<input type="text" ng-model="updata.name"></div>
			<div>性别:<select class="xb" ng-model="updata.sex"><option>男</option><option>女</option></select>
				<!--<input type="text" ng-model="updata.sex">--></div>
			<div>年龄：<input type="number" ng-model="updata.age"></div>
			<div>籍贯：<input type="text" ng-model="updata.origin"></div>
			<div>电话:<input type="number" ng-model="updata.tel"></div>
			<div>收入:<input type="number" ng-model="updata.income"></div>
			<div>就职公司:<input type="text" ng-model="updata.co"></div>
			<div>已面试公司:<input type="text" ng-model="temdata.name"><button ng-click="add()" class="jiahao">+</button></div>
			<button ng-click="submit()" class="tj">添加</button>	
		</div>
	</div>
</div>
<script>
//var setFiles=function(element){
//  files = [];
//  var file = document.getElementById("file").files;
//  var dragDiv=document.getElementById("dragDiv");
//  for (var i = 0; i < element.files.length; i++) {
//  	var reader=new FileReader();
//		reader.readAsDataURL(file[i]);
//      files.push(element.files[i]);
//      reader.onload=function(){
//		dragDiv.innerHTML += "<img src='" + this.result + "' id = img'"+i+"'/>";
//		}
//  }
//}
var setFiles2=function(element){
    files2 = [];
    var file = document.getElementById("file").files;
    var dragDiv=document.getElementById("dragDiv");
    for (var i = 0; i < element.files.length; i++) {
    	var reader=new FileReader();
		reader.readAsDataURL(file[i]);
        files2.push(element.files[i]);
        reader.onload=function(){
		dragDiv.innerHTML += "<img src='" + this.result + "' id = img'"+i+"'/>";
		}
    }
}
var files=[]
var setFiles=function(element){
    files = [];
    for (var i = 0; i < element.files.length; i++) {
        files.push(element.files[i]);
    }
}
</script>